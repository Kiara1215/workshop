# 复杂度分析



## 1. 复杂度分析(上)：如何分析、统计算法的执行效率和资源消耗



1. 为什么需要复杂度分析：
    * 测试结果非常依赖测试环境；
    * 测试结果受数据规模影响很大；
2. 大 O 复杂度表示法：
    * 所有代码的执行时间T(n)与每行代码的执行次数n成正比；
    * 大 O 时间复杂度实际上并不具体表示代码真正的执行时间，而是表示代码执行时间随数据规模增长的变化趋势，也叫渐近时间复杂度(asymptotic time complexity)，简称时间复杂度；
3. 时间复杂度分析：
    * 只关注循环执行次数最多的一段代码；
    * 加法法则：总复杂度等于量级最大的那段代码的复杂度；
    * 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积；
4. 几种常见时间复杂度实例分析：
    * 常量阶O(1)：只要算法中不存在循环、递归语句，即使有成千上万行代码，其时间复杂度也是O(1)；
    * 对数阶O(logn)：二分查找
    * 线性阶O(n)：数组遍历
    * 线性对数阶O(nlogn)：归并排序、快速排序
    * O(m+n)，O(m*n)：由两个数据的规模来确定；
5. 空间复杂度：
    * 空间复杂度全称是渐进空间复杂度(asymptotic space complexity)，表示算法的存储空间与数据规模之间的增长关系；
    * 注意：空间复杂度，是指除了原本的数据存储空间外，算法运行还需要的额外的存储空间；



## 2. 复杂度分析(下)：浅析最好、最坏、平均、均摊时间复杂度

1. 最好情况时间复杂度(best case time complexity)：
    * 定义：在最理想的情况下，执行这段代码的时间复杂度；
2. 最坏情况时间复杂度(worst case time complexity)：
    * 定义：在最糟糕的情况下，执行这段代码的时间复杂度；
3. 平均情况时间复杂度(average case time complexity)：
    * 定义：考虑每种情况发生的概率以及对应的时间复杂度，又称加权平均时间复杂度或期望时间复杂度；
    * Note：
        * 分析复杂，需要考虑概率；
        * 在大多数情况下，并不需要区分最好、最坏、平均时间复杂度。只有在同一块代码在不同情况下，时间复杂度有量级的差距，才会使用这三种复杂度表示法来区分；
4. 均摊时间复杂度(amortized time complexity)：
    * 对一个数据结构进行一组连续操作中，大部分情况下时间复杂度都很很低，只有个别情况下时间复杂度比较高，而且这些操作之间存在前后连贯的时序关系，这个时候，我们就可以将这一组操作放在一块儿分析，看是否能将较高时间复杂度那次操作的耗时，平摊到其他那些时间复杂度比较低的操作上。而且，在能够应用均摊时间复杂度分析的场合，一般均摊时间复杂度就等于最好情况时间复杂度。