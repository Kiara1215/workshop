[TOC]



# 第一章 概述

## 1.1 计算机网络在信息时代的作用

1. 互联网的两个重要基本特点：
   * 连通性：互联网使上网用户之间，不管相距多远，都能便捷、经济地交换各种信息，好像彼此直接连通；
   * 共享：信息共享、软件共享、硬件共享；

2. 互联网+：互联网+各个传统行业；



## 1.2 互联网概述

### 1.2.1 网络的网络

1. 网络 & 互联网：
   * 网络：将许多计算机连接在一起(又称计算机网络)；
   * 互联网：将许多网络连接在一起，是网络的网络；
2. 互连网(internet) & 互联网(Internet)：
   * 互连网(internet)：
     * 通用名词，泛指由多个计算机网络互连而成的计算机网络；
     * 这些网络之间的通信协议可以任意选择，不一定非要使用TCP/IP协议；
   * 互联网(Internet)：
     * 专用名词，特指当前全球最大的、开放的、由众多网络互相连接而成的特定的互联网；
     * 采用TCP/IP协议族作为通信规则；



### 1.2.2 互联网基础结构发展的三个阶段

1. 第一阶段：从单个网络APPANET向互连网发展(1969 - 1983)
   * 1983年，TCP/IP协议族成为APPANET上的标准协议；(1983，互联网诞生时间)
2. 第二阶段：三级结构的互联网(1985 - 1993)
   * 三级结构：主干网、区域网、校园网；
3. 第三阶段：多层次ISP结构的互联网(1993 - now)
   * 互联网服务提供商ISP(Internet Service Provider)：
     * ISP可以从互联网管理机构获得许多IP地址，同时拥有通信线路以及路由器等联网设备，个人或机构向ISP缴纳一定的费用就接入互联网；
   * 不同层次的ISP：
     * 主干ISP
     * 区域ISP
     * 本地ISP
   * 互联网交换点IXP(Internet eXchange Point)：
     * 允许两个ISP直接相连而不经过第三个ISP；



### 1.2.3 互联网的标准化工作

​	(Not Important, read the book for more information if you want)



## 1.3 互联网的组成

### 1.3.1 边缘部分

1. 组成：所有连接在互联网上的主机；
2. 作用：供用户直接使用，进行信息处理；
3. 主机之间的通信方式：
   * 客户-服务器方式(CS：Client - Server)：
     * 特点：客户是服务请求方，服务器是服务提供方；
   * 对等连接方式(P2P：Peer to Peer)：
     * 特点：不区分客户和服务器 (本质上仍是CS方式，同一台主机既是客户又是服务器)；



### 1.3.2 核心部分

1. 组成：大量的网络和连接这些网络的路由器；

2. 作用：为边缘部分提供服务(提供连通性和交换)；

3. 路由器(router)：

   * 作用：实现分组交换的关键构件；
   * 任务：转发收到的分组；

4. 电路交换(circuit switching)：

   * 交换：按照某种方式动态地分配传输线路的资源；

   * 作用：用于电话通信系统；

   * 过程：
     * 建立连接(占用通信资源)；
     * 通话(一直占用通信资源)；
     * 释放连接(归还通信资源)；
   * 特点：
     * 线路利用率低；(通信的两个用户一直占用该链路，但在通信过程中不可能一直使用传输线路)

5. 分组交换：

   * 特点：存储转发；
   * 过程：(参考书P.14 图1-11)
     * 将报文(message，即整块数据)分为一个个更小的等长数据段；
     * 在每个数据段前加上必要的控制信息，组成首部(header)，构成分组(packet)；
   * 优缺点：
     * 优点：高效、灵活、迅速、可靠；
     * 缺点：额外开销、时延(分组在各路由器存储转发时需要排队)；
   * Note : 
     1. 路由器暂存的是分组，而非报文；
     2. 路由器将分组暂存在内存，而非磁盘，保证了较高的交换速率；
     3. 分组交换在传送数据之前不必一直占用链路，直到传送时才占用，保证了较高的传输效率；



## 1.4 计算机网络在我国的发展

​	(Not Important, read the book for more information if you want)



## 1.5 计算机网络的类别

### 1.5.1 定义

1. 定义：计算机网络主要是由一些通用的、可编程的硬件(CPU)互连而成的。这些可编程的硬件可用来传送多种不同类型的数据，并能支持广泛的和日益增长的应用；



### 1.5.2 几种不同类别的计算机网络

1. 按照作用范围分类：
   * 广域网WAN(Wide Area Network)
   * 城域网MAN(Metropolitan Area Network)
   * 局域网LAN(Local Area Network)
   * 个人区域网PAN(Personal Area Network)
2. 按照使用者分类：
   * 公用网(public network)
   * 专用网(private network)



## 1.6 计算机网络的性能

### 1.6.1 性能指标

1. 速率：

   * 含义：指数据的传送速率，也称数据率(data rate)；
   * 单位：bit/s、bps(bit per second)

   * Note：在网络中表示速率以10为底数，而在计算机中以2为底数来表示数据大小；

2. 带宽(bandwidth)：

   * 含义：最大速率(用来表示通道传送数据的能力)

3. 吞吐量(throughput)：

   * 含义：单位时间内通过某个网络的实际数据量；

4. 时延(delay / latency)：

   * 含义：指数据从网络的一端传送到另一端所需的时间；
   * 各个部分：(参考书 p.22 - 24)
     * 传输时延(transmission delay)：又称发送时延，是主机或路由器发送数据帧所需要的时间；
     * 传播时延(propagation delay)：电磁波在信道中传播一定的距离需要花费的时间；
     * 处理时延：主机或路由器在收到分组时，需要花费一定的时间进行处理；
     * 排队时延：分组进入路由器后要先在输入队列中排队等待处理；

5. 时延带宽积：

   * 定义：时延带宽积 = 传播时延 * 带宽

   * 含义：表示链路可容纳多少个比特的数据；

6. 往返时间RTT(Round-Trip Time)：

   * 含义：双向交互一次所需要的时间；
   * 有效数据率：有效数据率通常小于原来的数据率；

7. 利用率：

   * 分类
     * 信道利用率：某信道有百分之几的时间是被利用的(有数据通过)；
     * 网络利用率：全网络信道利用率的加权平均值；

   * Note : 

     * 信道利用率并非越高越好；

       (根据排队论，当某信道的利用率增大时，该信道引起的时延也就迅速增加)



### 1.6.2 非性能指标

1. 费用
2. 质量
3. 标准化
4. 可靠性
5. 可扩展性和可升级性
6. 易于管理和维护



## 1.7 计算机网络的体系结构

### 1.7.1 计算机网络体系结构的形成

1. 形成过程：
   * Step 1：1974年，美国的IBM公司，提出了系统网络体系结构SNA(System Network Architecture)；
   * Step 2：1977年，国际标准化组织ISO，提出了开放系统互连基本参考模型OSI/RM(Open Systems Interconnection Reference Model)，简称OSI；
   * Step 3：20世纪90年代，TCP/IP协议族；
2. Note :
   * OSI是法律上的国际标准，而TCP/IP是事实上的国际标准；



### 1.7.2 协议与划分层次

1. 协议：
   * 定义：为进行网络中的数据交换而建立的规则、标准或约定成为网络协议(network protocol)
   * 协议的三要素：
     * 语法
     * 语义
     * 同步
2. 划分层次：
   * 原因：APPANET的研制经验表明，复杂的网络协议，其结构应该是层次式的；
   * 分层的好处：
     * 各层之间独立；
     * 灵活性好；
     * 结构上可分割；
     * 易于实现和维护；
     * 能促进标准化工作；



### 1.7.3 具有五层协议的体系结构

1. 不同结构层次的体系结构：

   * OSI：七层
     * 应用层、表示层、会话层、运输层、网络层、数据链路层、物理层；

   * TCP/IP：四层
     * 应用层、运输层、网络层、网络接口层；
   * 五层：
     * 应用层、运输层、网络层、数据链路层、物理层；

2. 五层概述：

   * 应用层(application layer)：
     * 任务：为应用程序提供数据传输服务；
     * 数据单位：报文(message)；
     * 协议：HTTP、DNS等
   * 传输层(transport layer)：
     * 任务：为进程提供数据传输服务；
     * 两种协议：
       * 传输控制协议TCP(Transmission Control Protocol)
         * 任务：提供面向连接的、可靠的数据传输服务；(主要提供完整性服务)
         * 数据单位：报文段(segment)；
       * 用户数据报协议UDP(User Datagram Protocol)
         * 任务：提供无连接的、尽最大努力的数据传输服务；(主要提供及时性服务)
         * 数据单位：用户数据报(segment)；
   * 网络层(network layer)：
     * 任务：为主机提供数据传输服务；
     * 数据单位：分组(数据报，datagram)；(将运输层传递下来的报文段或用户数据报封装成分组)
     * 协议：IP
   * 数据链路层(data link layer)：
     * 任务：(主机之间可以有很多链路)为同一链路的主机提供数据传输服务；
     * 数据单位：帧(frame)；(将网络层传递下来的分组封装成帧)
   * 物理层(physical layer)：
     * 任务：尽可能屏蔽传输媒体和通信手段的差异，使数据链路层感觉不到这些差异；
     * 数据单位：比特(bit)；
     * Note : 物理层考虑的是怎样在传输媒体上传输比特流，而不是指具体的传输媒体；

3. OSI：

   * 表示层：数据压缩、加密以及数据描述，这使得应用程序不必关心在各台主机中数据内部格式不同的问题

   * 会话层：建立及管理会话；

     (五层协议没有表示层和会话层，而是将这些功能留给应用程序开发者处理)

4. TCP/IP：

   * 将五层结构中的数据链路层和物理层合并为网络接口层；
   * 应用层可能直接使用IP层或网络接口层；(不严格遵循OSI分层概念)
       * ping：是应用层直接使用ICMP(网际控制报文协议，IP层协议)的一个例子；

5. 数据在各层之间的传递过程：

   * 在向下的过程中，需要添加下层协议所需的首部或尾部；

   * 在向上的过程中，需要不断拆开首部和尾部；

   * 路由器只有下面三层协议；

     (因为路由器位于网络核心中，不需要为进程或者应用程序提供服务，因此也就不需要传输层和应用层。)



### 1.7.4 实体、协议、服务与服务访问点

1. 实体：任何可发送或接收信息的硬件或软件进程；
2. 协议：控制两个(或多个)对等实体进行通信的规则的集合；
3. 服务：本层能够向上一层提供服务，同时使用下一层提供的服务；
4. 服务访问点SAP(Service Access Point)：在同一系统中相邻两层的实体进行交互的地方；



### 1.7.5 TCP/IP的体系结构

1. 特点：上下两头大而中间小；
   * TCP/IP协议可以为各式各样的应用提供服务(everything over IP)；
   * 也允许在各式各样的网络构成的互联网上运行(IP over everything)；